apt-get update
apt-get install nginx
openssl genrsa -out myCA.key 2048
openssl req -x509 -new -nodes -key myCA.key -sha256 -days 365 -out myCA.pem
openssl genrsa -out ssl.key 2048
openssl req -new -key ssl.key -out myCert.csr
nano myCert.ext

----

authorityKeyIdentifier=keyid,issuer
basicConstraints=CA:FALSE
keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment
subjectAltName = @alt_names
[alt_names]
DNS.1 = ent.mondomaine.fr

Source : https://stackoverflow.com/questions/7580508/getting-chrome-to-accept-self-signed-localhost-certificate

----

openssl x509 -req -in myCert.csr -CA myCA.pem -CAkey myCA.key -CAcreateserial \
-out ssl.crt -days 825 -sha256 -extfile myCert.ext
cp ssl.crt /etc/nginx
cp ssl.key /etc/nginx
cat ssl.crt ssl.key > ssl.pem
nano /etc/nginx/sites-available/ent
ln -s /etc/nginx/sites-available/ent /etc/nginx/sites-enabled
service nginx restart
